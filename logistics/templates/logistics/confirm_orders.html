{% extends 'logistics/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'logistics/css/style.css' %}">

<nav aria-label="breadcrumb" style="margin-top: 50px; margin-bottom: 10px;">
    <ol class="breadcrumb" style="font-size: x-large; margin-bottom: auto;">
        <li class="breadcrumb-item"><a href="{% url 'enquiry_list' %}" style="color: steelblue;">Opportunities</a></li>
        <li class="breadcrumb-item"><a href="{% url 'edit_enquiry' instance.id %}" style="color: steelblue;">{{instance.scope_of_work}}</a></li>
        <li class="breadcrumb-item"><a href="" style="color: steelblue;">...20030{{instance.id}}</a></li>
        <li class="breadcrumb-item active" aria-current="page">...20030{{instance.id}}</li>
    </ol>
    <a href="{% url 'update_order' order.id instance.id quotation.id %}" class="btn btn-primary ml-3" style="background-color: steelblue; border-color: steelblue;">Edit</a>
    <a href="" class="btn btn-outline-dark">Create</a>
</nav>

<nav class="navbar navbar-custom navbar-expand-lg" style="margin-top:auto;padding: 0;">
    <div style="padding-top: 2px;padding-bottom: 2px;margin-left: 15px;">
        <div class="justify-content-start">
            <button id="confirm_button" class="btn btn-sm btn-primary" style="background-color: steelblue; border: none;"><b>Confirm Order</b></button>
            <a href="{% url 'invoice' instance.id quotation.id order.id %}" class="btn btn-sm btn-primary" style="background-color: steelblue; border: none;"><b>Generate Invoice</b></a>
            <button class="btn btn-sm btn-primary" type="button" style="background-color: steelblue; border: none;"><b>Cancel</b></button>
        </div>
    </div>
    <div class="custom-stages ml-auto">
        <span class="stage active" data-stage="approved"><b>Approved</b></span>
        <span class="stage" data-stage="order"><b>Confirmed</b></span>
        <span class="stage" data-stage="delivered"><b>In Transit</b></span>
        <span class="stage" data-stage="done"><b>Done</b></span>
    </div>
</nav>

<div>
    <section class="form-section mt-4 mb-4">
        <div class="col-sm-12 col-md-8 col-lg-10 m-auto">
            <div class="quotation-details">
                <div class="row ml-2">
                    <div class="col-sm-12">
                        <h4 class="mt-4 ml-2"><b>{{order.order_id}}</b></h4>
                    </div>
                </div>
                <div class="row mt-4"></div>
                <div class="row ml-2">
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-xs-4 ml-4">
                                <p class="mt-5"><b>Customer</b></p>
                                <p class="mt-5"></p>
                                <p><b>Freight Type</b></p>
                                <p><b>Track Number</b></p>
                                <p class="mt-5"></p>
                                <p><b>Shipping Agent</b></p>
                                <p><b>Account No</b></p>
                                <p class="mt-5"></p>
                                <p><b>Airline</b></p>
                                <p><b>Origin</b></p>
                                <p><b>Destination</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p class="mt-5">{{instance.customer_name}}</p>
                                <p class="mt-5"></p>
                                <p>{{instance.freight_type}}</p>
                                <p>COMPANY01EQ20030{{instance.id}}</p>
                                <p class="mt-5"></p>
                                <p>{{order.shipping_agent}}</p>
                                <p>{{order.shipping_agent_acc_num}}</p>
                                <p class="mt-5"></p>
                                <p>{{order.airline}}</p>
                                <p>{{order.origin}}</p>
                                <p>{{order.destination}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-xs-4 ml-4">
                                <div class="row mt-5"></div>
                                <div class="row mt-4"></div>
                                <div class="row mt-5"></div>
                                <p><b>Type</b></p>
                                <p><b>Job Category</b></p>
                                <p class="mt-5"></p>
                                <p><b>Order Date</b></p>
                                <div class="row mt-4"></div>
                                <div class="row mt-5"></div>
                                <p class="mt-3"><b>Flight Date</b></p>
                                <p><b>Flight No</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <div class="row mt-5"></div>
                                <div class="row mt-4"></div>
                                <div class="row mt-5"></div>
                                <p>{{instance.type}}</p>
                                <p>{{instance.job_category}}</p>
                                <p class="mt-5"></p>
                                <p>{{order.order_date}}</p>
                                <div class="row mt-4"></div>
                                <div class="row mt-5"></div>
                                <p class="mt-3">{{order.flight_date}}</p>
                                <p>{{order.flight_number}}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-5"></div>
                <div class="row ml-4">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" id="shipper" aria-current="page"
                                href="#shipper_details">Shipper</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="consignee" href="#consignee_details">Consignee</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="packages" href="#packages_details">Packages</a>
                        </li>
                    </ul>
                </div>
                <div class="row mt-5"></div>
                <div id="shipper_details" class="row ml-4 mt-4 content">
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-xs-4">
                                <p class="ml-2"><b>Shipper Name</b></p>
                                <p class="ml-2"><b>Shipper Email</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p>{{order.shipper_name}}</p>
                                <p>{{order.shipper_email}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="row ml-3">
                            <div class="col-xs-4">
                                <p><b>Account No</b></p>
                                <p><b>Shipper Contact</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p>{{order.shipper_acc_num}}</p>
                                <p>{{order.shipper_phone}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="consignee_details" class="row ml-4 mt-4 content" style="display: none;">
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-xs-4">
                                <p class="ml-2"><b>Consignee Name</b></p>
                                <div class="row mt-5"></div>
                                <div class="row ml-2">
                                    <h4><b>Notify</b></h4>
                                </div>
                                <div class="row mt-3"></div>
                                <p class="ml-2"><b>Notify Name</b></p>
                                <p class="ml-2"><b>Address</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p>{{order.consignee_name}}</p>
                                <div class="row mt-5"></div>
                                <div class="row mt-5"></div>
                                <p class="mt-1">{{order.notify_name}}</p>
                                <p>1291, Leila Ave, <br>Henderson Street, Winnipeg <br>Canada, R2L 1C9</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="row ml-3">
                            <div class="col-xs-4">
                                <p><b>Account No</b></p>
                                <div class="row mt-5"></div>
                                <div class="row mt-5"></div>
                                <p><b>Account No</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p>{{order.consignee_acc_num}}</p>
                                <div class="row mt-5"></div>
                                <div class="row mt-5"></div>
                                <p>{{order.notify_acc}}</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="packages_details" class="row ml-4 mt-4 content" style="display: none;">
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-xs-4">
                                <p class="ml-2"><b>units</b></p>
                                <p class="ml-2"><b>Weight(kg)</b></p>
                                <p class="ml-2"><b>Description of Goods</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p>{{quotation.unit}}</p>
                                <p>{{quotation.weight}}</p>
                                <p>{{quotation.description}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="row ml-3">
                            <div class="col-xs-4">
                                <p><b>Quantity</b></p>
                                <p><b>Dimension</b></p>
                            </div>
                            <div class="col-xs-4 ml-5">
                                <p>{{quotation.quantity}}</p>
                                <p>{{quotation.dimension}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3"></div>
            </div>
        </div>
    </section>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $('.stage[data-stage="approved"]').addClass('active');

        $('#confirm_button').click(function () {
            $('.stage').removeClass('active');
            $('.stage[data-stage="order"]').addClass('active');
        });

        $("#consignee").click(function () {
            $("#consignee_details").show();
            $("#shipper_details").hide();
            $("#packages_details").hide();

            $('.nav-link').removeClass('active');
            $(this).addClass('active');
        });
        $("#shipper").click(function () {
            $("#shipper_details").show();
            $("#consignee_details").hide();
            $("#packages_details").hide();

            $('.nav-link').removeClass('active');
            $(this).addClass('active');
        });
        $("#packages").click(function () {
            $("#packages_details").show();
            $("#shipper_details").hide();
            $("#consignee_details").hide();

            $('.nav-link').removeClass('active');
            $(this).addClass('active');
        });
    });
</script>
{% endblock content %}